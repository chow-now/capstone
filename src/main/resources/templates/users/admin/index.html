<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="_csrf" th:content="${_csrf.token}"/>
  <meta name="_csrf_header" th:content="${_csrf.headerName}"/>
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>Dashboard</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">

  <!-- DataTables -->
  <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/v/bs4/dt-1.10.23/datatables.min.css"/>
    <!--  MAIN CSS -->
    <link rel="stylesheet" th:href="@{/css/main.css}">
    <style>
        .page-link {
            z-index: 3;
            color: #fff;
            background-color: #03b090;
            border-color: #03b090;
        }
        .page-link:hover {
            z-index: 3;
            color: #fff;
            background-color: #fba9c8;
            border-color: #fba9c8;
        }
        .page-item.active .page-link {
            z-index: 3;
            color: #fff;
            background-color:  #fba9c8;
            border-color:   #fba9c8;
        }
        thead{
            background-color:#03b090;
            color: whitesmoke;
        }
        tbody{
            font-weight: bold;
        }
        .fa-eye{
            color: #03b090
        }
        .fa-pencil-alt{
            color: #fec82e
        }
        .fa-trash-alt{
            color: #ff686d;
        }

        .dashtab{
            color:#fec82e;
        }

        .nav-tabs {
            border-bottom: none!important;
        }

        .nav-tabs .nav-link {
            border-top-left-radius: .6rem;
            border-top-right-radius: .6rem;
            padding-top: 1rem;
        }
        .nav-tabs .nav-link:focus, .nav-tabs .nav-link:hover {
            border: none!important;
            color:#ff686dd4;
            /*background-color: #03b090!important;*/
        }

        .nav-tabs .nav-item.show .nav-link, .nav-tabs .nav-link.active {
            color:#ff686dd4;
            background-color: #03b090!important;
            border: none!important;
        }

        .nav-tab-shadow{
            box-shadow: 0 -0.1rem 3rem rgba(0,0,0,0.175)!important;
        }

        @media only screen and (min-width: 768px) {
            .tab-content{
                margin-left: 3rem;
                margin-right: 3rem
            }
        }
    </style>
</head>
<body class="bg-green">
<!--<header th:include="fragments/navbar.html :: nav"></header>-->
<div class="container mt-4">
    <ul class="nav nav-tabs align-items-center justify-content-between" role="tablist">
        <li class="nav-item" data-toggle="tooltip" data-placement="top" title="Users">
            <a class="nav-link dashtab nav-tab-shadow"  href="#tab-table1" data-toggle="tab">
                <i class="fas fa-users fa-2x"></i>
            </a>
        </li>
        <li class="nav-item active" data-toggle="tooltip" data-placement="top" title="Recipes">
            <a class="nav-link dashtab nav-tab-shadow"  href="#tab-table2" data-toggle="tab">
                <i class="fas fa-utensils fa-2x"></i>
            </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="top" title="Ingredients">
            <a class="nav-link dashtab nav-tab-shadow"  href="#tab-table3" data-toggle="tab">
                <i class="fas fa-lemon"></i><i class="fas fa-apple-alt fa-2x"></i><i class="fas fa-carrot"></i>
            </a>
        </li>
        <li class="nav-item" data-toggle="tooltip" data-placement="top" title="Categories">
            <a class="nav-link dashtab nav-tab-shadow"  href="#tab-table4" data-toggle="tab">
                <i class="fas fa-th-list fa-2x"></i>
            </a>
        </li>
    </ul>
</div>
<div class="tab-content bg-light rounded-card px-3 py-3">
    <div class="tab-pane active" id="tab-table1">
        <h3 class="green-text font-weight-bold text-center mt-2"> USERS</h3>
        <div class=text-center><button type="button" class="btn btn-yellow" data-toggle="modal" data-target="#userNewModal">
            New
        </button></div>
        <table id="myTable1" class="display table-responsive table table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Avatar Url</th>
                    <th>Admin</th>
                    Â <th>Auth</th>
                    <th>View</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="user : ${users}">
                    <td th:text="${user.id}"></td>
                    <td th:text="${user.firstName}"></td>
                    <td th:text="${user.email}"></td>
                    <td th:text="${user.avatar}" style="width:10%"></td>
                    <td th:text="${user.admin}"></td>
                    <td th:text="${user.getAuthProvider()}"></td>
                    <td class="text-center"><a th:href="@{/users/{id}(id=${user.id})}"><i class="fas fa-eye"></i></a></td>
                    <!--                            <td class="text-center"><a th:href="@{/users/{id}/edit(id=${user.id})}"><i class="fas fa-pencil-alt"></i></a></td>-->
                    <td class="text-center"><a th:href="@{/api/users/{id}/delete(id=${user.id})}" ><i class="far fa-trash-alt"></i></a></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="tab-pane" id="tab-table2">
        <h3 class="green-text font-weight-bold text-center mt-2"> RECIPES</h3>
        <div class=text-center><button type="button" class="btn btn-yellow" data-toggle="modal" data-target="#recipeNewModal">
            New
        </button></div>
        <table id="myTable2" class="display table-responsive table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Title</th>
                    <th>Difficulty</th>
                    <th>Prep Time</th>
                    <th>Cook TIme</th>
                    <th>Servings</th>
                    <th>Published</th>
                    <th>Chef</th>
                    <th>View</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody class="">
                <tr th:each="recipe : ${recipes}">
                  <td th:text="${recipe.id}"></td>
                  <td th:text="${recipe.title}"></td>
                  <td th:text="${recipe.difficulty}"></td>
                  <td th:text="${recipe.prepTime}"></td>
                  <td th:text="${recipe.cookTime}"></td>
                  <td th:text="${recipe.servings}"></td>
                  <td th:text="${recipe.published}"></td>
                  <td th:text="${recipe.chef.id}"></td>
                  <td class="text-center"><a th:href="@{/recipes/{id}(id=${recipe.id})}"><i class="fas fa-eye"></i></a></td>
                  <td class="text-center"><a th:href="@{/recipes/{id}/edit(id=${recipe.id})}"><i class="fas fa-pencil-alt"></i></a></td>
                  <td class="text-center"><a th:href="@{/recipes/{id}/delete(id=${recipe.id})}"><i class="far fa-trash-alt"></i></a></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div class="tab-pane" id="tab-table3">
        <h3 class="green-text font-weight-bold text-center mt-2">INGREDIENTS</h3>
        <div class=text-center><button type="button" class="btn btn-yellow" data-toggle="modal" data-target="#ingredientNewModal">
            New
        </button></div>
        <table id="myTable3" class="display table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
            <tr th:each="ingredient : ${ingredients}">
                <td th:text="${ingredient.id}"></td>
                <td th:text="${ingredient.name}"></td>
                <td class="text-center"><a th:href="@{/api/ingredient/{id}/edit(id=${ingredient.id})}"><i class="fas fa-pencil-alt"></i></a></td>
                <td class="text-center"><a th:href="@{/api/ingredient/{id}/delete(id=${ingredient.id})}"><i class="far fa-trash-alt"></i></a></td>
            </tr>
            </tbody>
        </table>
    </div>
    <div class="tab-pane" id="tab-table4">
        <h3 class="green-text font-weight-bold text-center mt-2"> CATEGORIES</h3>
        <div class=text-center><button type="button" class="btn btn-yellow" data-toggle="modal" data-target="#categoryNewModal">
            New
        </button></div>
        <table id="myTable4" class="display table table-striped table-bordered" cellspacing="0" width="100%">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Name</th>
                    <th>Edit</th>
                    <th>Delete</th>
                </tr>
            </thead>
            <tbody>
                <tr th:each="category : ${categories}">
                    <td th:text="${category.id}"></td>
                    <td th:text="${category.name}"></td>
                    <td class="text-center"><a th:href="@{/api/category/{id}/edit(id=${category.id})}"><i class="fas fa-pencil-alt"></i></a></td>
                    <td class="text-center"><a th:href="@{/api/category/{id}/delete(id=${category.id})}"><i class="far fa-trash-alt"></i></a></td>
                </tr>
            </tbody>
        </table>
    </div>
</div>


<div class="modal fade" id="ingredientNewModal" tabindex="-1" role="dialog" aria-labelledby="ingredientNewModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <form th:replace="users/admin/forms :: ingredientNew"></form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="ingredientEditModal" tabindex="-1" role="dialog" aria-labelledby="ingredientEditModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <form th:replace="users/admin/forms :: ingredientEdit"></form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="categoryNewModal" tabindex="-1" role="dialog" aria-labelledby="categoryNewModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <form th:replace="users/admin/forms :: categoryNew"></form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="categoryEditModal" tabindex="-1" role="dialog" aria-labelledby="categoryEditModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <form th:replace="users/admin/forms :: categoryEdit"></form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="userNewModal" tabindex="-1" role="dialog" aria-labelledby="userNewModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <form th:replace="users/admin/forms :: createUser"></form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="grantAccessModal" tabindex="-1" role="dialog" aria-labelledby="grantAccessModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <form th:replace="users/admin/forms :: makeAdmin"></form>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="recipeNewModal" tabindex="-1" role="dialog" aria-labelledby="recipeNewModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-body">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
                <form th:replace="users/admin/forms :: recipeNew"></form>
            </div>
        </div>
    </div>
</div>

<!--jQuery, Popper.js, and Bootstrap JS-->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js" integrity="sha384-9/reFTGAW83EW2RDu2S0VKaIzap3H66lZH81PoYlFhbGU+6BZp6G7niu735Sk7lN" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.min.js" integrity="sha384-w1Q4orYjBQndcko6MimVbzY0tgp4pWB4lZ7lr30WKz0vr/aWKhXdBNmNb5D92v7s" crossorigin="anonymous"></script>
<!--Data tables-->
<script type="text/javascript" src="https://cdn.datatables.net/v/bs4/dt-1.10.23/datatables.min.js"></script>
<script>
  $(document).ready(function() {
    $('table.display').DataTable();
  } );
  $('[data-toggle="tooltip"]').tooltip();
</script>
</body>
</html>


