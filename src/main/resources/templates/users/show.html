<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head/>
  <meta charset="UTF-8">
  <title>User Profile</title>

<!-- Font Awesome -->
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css">
<!-- Google Fonts -->
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap">
<!-- Bootstrap core CSS -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/css/bootstrap.min.css" rel="stylesheet">
<!-- Material Design Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/css/mdb.min.css" rel="stylesheet">
</head>
<body>
<main>
  <!--Main Container-->
  <div class="d-flex justify-content-center">

    <div class="w-75">
      <div class="d-flex justify-content-center flex-wrap">
        <div class="col-md-4 mb-3">
          <div class="card w-100">
            <div class="card-body">
              <img th:src="${user.avatar}" alt="profile image" class="rounded-circle">
              <h2 class="mt-3"><span th:text="${user.username}"></span></h2>
            </div>
          </div>
        </div>

        <!--todo:margins-->
        <div class="col-md-8 mb-3 ">
          <div class="card mb-3 h-100">
            <div class="card-body">
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">Full Name</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <span th:text="${user.firstName}"></span> <span th:text="${user.lastName}"></span>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">About me</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  <span th:text="${user.aboutMe}"></span>
                </div>
              </div>
              <hr>
              <div class="row">
                <div class="col-sm-3">
                  <h6 class="mb-0">More Data</h6>
                </div>
                <div class="col-sm-9 text-secondary">
                  More Data..................
                </div>
              </div>
              <hr>
            </div>
          </div>
        </div>

        <div class="col-md-4">
          <div class="card w-100">
            <ul class="list-group list-group-flush">
              <li class="list-group-item">
                <h5 class="pull-right mb-3"><a href="" th:href="@{/users/{path}/edit(path=${user.id})}">Edit Profile</a></h5>
              </li>
              <li class="list-group-item">
                <h5 class="pull-right mb-3"><a href="" th:href="@{/users/{path}/edit(path=${user.id})}">PH</a></h5>
              </li>
              <li class="list-group-item">
                <h5 class="pull-right mb-3"><a href="" th:href="@{/users/{path}/edit(path=${user.id})}">PH</a></h5>
              </li>
            </ul>
          </div>
        </div>


        <div class="col-md-8" th:each="pantry : ${pantry}">
          <div class="card w-100">
            <div class="card-body">
              <!-- Responsive table -->
              <!--Todo: Loop Through user ads & posts into table-->
              <div class="table-responsive">
                <table class="table m-0">
                  <thead>
                  <tr>
                    <th scope="col">#</th>
                    <th scope="col">Name</th>
                    <th scope="col">Amount</th>
                    <th scope="col">Date</th>
                    <th scope="col"></th>
                  </tr>
                  </thead>
                  <tbody>
                  <tr th:each="pantryIngredients : ${pantryIngredients}">
                    <th scope="row" th:text="${pantryIngredients.id}"></th>
                    <th scope="row" th:text="${pantryIngredients.ingredient.id}"></th>
                    <td th:text="${pantryIngredients.ingredient.name}">type_ph</td>
                    <td><span th:text="${pantryIngredients.amount}"></span><span th:text="${pantryIngredients.unit}"></span> </td>
                    <td>
                      <!-- Call to action buttons -->
                      <ul class="list-inline m-0">
                        <li class="list-inline-item">
                          <button class="btn btn-primary btn-sm rounded-0" type="button" data-toggle="tooltip" data-placement="top" title="Add"><i class="fa fa-table"></i>
                          </button>
                        </li>
                        <!-- Button trigger modal -->
                        <li class="list-inline-item">
                          <button class="btn btn-success btn-sm rounded-0" type="button" data-toggle="modal" data-target="#modal" data-placement="top"
                                  title="Edit"><i class="fa fa-edit"></i>
                          </button>
                        </li>
                        <li class="list-inline-item">
                          <!--Todo: Delete Button Not Working-->
                          <form th:action="@{/ingredient/{id}/delete (id=${pantryIngredients.id})}" th:method="post">
                            <button class="btn btn-danger btn-sm rounded-0" type="button" data-toggle="tooltip" data-placement="top" title="Delete"><i class="fa fa-trash"></i>
                            </button>
                          </form>
                        </li>
                      </ul>
                    </td>
                  </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</main>

<div>
  <div th:each="recipes : ${user.recipes}">
    <!-- Card -->
    <div class="card">
      <!-- Card image -->
      <div class="view overlay">
        <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/food.jpg" alt="Card image cap" width="100" height="100">
        <a>
          <div class="mask rgba-white-slight"></div>
        </a>
      </div>
      <!-- Button -->
      <a class="btn-floating btn-action ml-auto mr-4 mdb-color lighten-3"><i
              class="fas fa-chevron-right pl-1"></i></a>
      <!-- Card content -->
      <div class="card-body">
        <!-- Title -->
        <h4 class="card-title" th:text="${recipes.directions}"></h4>
        <hr>
        <!-- Text -->
        <p class="card-text" th:text="${recipes.directions}"><!--Todo: Add icons--></p>
      </div>
      <!-- Card footer -->
      <div class="rounded-bottom mdb-color lighten-3 text-center pt-3">
        <ul class="list-unstyled list-inline font-small">
          <li class="list-inline-item pr-2 white-text"><i class="far fa-clock pr-1" th:text="${recipes.cookTime}"></i></li>
          <li class="list-inline-item pr-2"><a href="#" class="white-text" th:text="${recipes.prepTime}"><i class="far fa-comments pr-1"></i>12</a></li>
          <li class="list-inline-item pr-2"><a href="#" class="white-text" th:text="${recipes.servings}"><i class="fab fa-facebook-f pr-1"></i></a></li>
          <li class="list-inline-item"><a href="#" class="white-text"><i class="fab fa-twitter pr-1"> </i>5</a></li>
        </ul>
      </div>

    </div>
    <!-- Card -->
  </div>
</div>

<!-- JQuery -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<!-- Bootstrap tooltips -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
<!-- Bootstrap core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.0/js/bootstrap.min.js"></script>
<!-- MDB core JavaScript -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.19.1/js/mdb.min.js"></script>
</body>
</html>
